<script type="text/javascript">
/**
 * @param {string} s
 * @return {string}
 * 递归
 * 但是最后一名。。。
 * 但是高票也是递归
 */
var decodeString = function(s) {
    if(s.length === 0) return '';
    var slength = s.length;
    var notinbrackets = true;
    var strnums = '';
    var needtorepeat = '';
    var result = '';
    var start = 0;
    var leftbracketsnum = 0;
    for(var i = 0; i < slength; i++) {
    	if(notinbrackets) {
    		if(s[i] === '[') {
    			leftbracketsnum++;
    			notinbrackets = false;
    			start = i;
    			continue;
    		}
    		if(s.charCodeAt(i) >= 48 &&s.charCodeAt(i) <= 57) {
    			strnums = strnums + s[i];
    			continue;
    		}
    		result += s[i];
    	}else {
    		if(s[i] === '['){
    			leftbracketsnum++;
    			continue;
    		}
    		if(s[i] === ']') {
    			leftbracketsnum--;
    			if(leftbracketsnum === 0){
    			var temp = arguments.callee(s.substring(start + 1, i));
    			for(var j = 0; j < parseInt(strnums); j++)
    					result += temp;
    			strnums = '';
    			notinbrackets = true;
    			leftbracketsnum = 0;
    		}
    		}
    	}	
    }
    return result;
};
</script>